{% extends 'base.html' %}

{% load static i18n %}

{% block title %}{% trans "Change password" %}{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'accounts/css/auth.css' %}">
{% endblock %}

{% block content %}
<section class="auth">
    <div class="auth__form">
        <h2 class="auth__form-title">{% trans "Change password" %}</h2>

        <form method="post" class="auth__form-body">
            {% csrf_token %}

            {% if form.non_field_errors %}
                <div class="auth__errors">
                    {{ form.non_field_errors }}
                </div>
            {% endif %}

            <div class="auth__form-group">
                <label for="password" class="auth__label">{% trans "New password" %} {% if form.new_password1.errors %}<sup>*{{ form.new_password1.errors.0 }}</sup>{% endif %}</label>
                <div class="auth__input-wrapper">
                  <input autocomplete="new-password" type="password" name="new_password1" id="password" placeholder="{% trans 'Enter new password' %}" class="auth__input">
                  <svg class="auth__eye auth__eye--open" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 13.078c4.418 0 8-5 8-5s-3.582-5-8-5-8 5-8 5 3.582 5 8 5zm0-2a3 3 0 100-6 3 3 0 000 6zm0-1.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path></svg>
                  <svg class="auth__eye auth__eye--closed" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.406 1.125l-3.229 3.229C14.47 5.834 16 7.969 16 7.969s-3.582 5-8 5c-1.244 0-2.422-.397-3.472-.966l-3.372 3.372-.707-.707 3.2-3.2C1.451 9.997 0 7.969 0 7.969s3.582-5 8-5c1.17 0 2.28.351 3.282.867L14.7.418l.707.707zM8 4.969c.61 0 1.179.182 1.653.496L8.546 6.57a1.5 1.5 0 00-1.943 1.943L5.495 9.622A3 3 0 018 4.968zm-.742 4.304l-1.08 1.08a3 3 0 004.205-4.205l-1.079 1.08a1.5 1.5 0 01-2.046 2.046z"></path></svg>
                </div>
            </div>
            <div class="auth__form-group">
                <label for="new_password2" class="auth__label">{% trans "New password confirmation" %} {% if form.new_password2.errors %}<sup>*{{ form.new_password2.errors.0 }}</sup>{% endif %}</label>
                <input autocomplete="new-password" type="password" name="new_password2" id="new_password2" placeholder="{% trans 'Confirm new password' %}" class="auth__input">
            </div>
            <button type="submit" class="auth__form-button">{% trans "Change password" %}</button>
            <div class="auth__links">
                <a href="{% url 'accounts:signin' %}" class="auth__link">{% trans "Remembered your password? Sign in" %}</a>
            </div>
        </form>
    </div>
</section>
{% endblock %}

{% block js %}
<script src="{% static 'accounts/js/toggle-password.js' %}"></script>
{% endblock %}
